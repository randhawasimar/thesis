clc;
clear all;
filename='E:\phd\paper_conference2_nitj\test_samples.xlsx';
sheetnum=1;% original image features
% % sheetnum=2; %% DWT image features%%
% % sheetnum=3; %% WPT image features%%
% features_n_all=xlsread(filename,sheetnum,'B1:CC8');
% features_n_all=transpose(features_n_all);
% % % % features_n_1=features_n_all(1:16,:);
% % % % features_n_2=features_n_all(17:32,:);
% % % % features_n_3=features_n_all(33:48,:);
% % % % features_n_4=features_n_all(49:64,:);
% % % % features_n_5=features_n_all(65:80,:);
% features_n=features_n_all(randperm(end),:);
% features_c_all=xlsread(filename,sheetnum,'B15:BI22');
% features_c_all=transpose(features_c_all);
% % % % features_c_1=features_c_all(1:12,:);
% % % % features_c_2=features_c_all(13:24,:);
% % % % features_c_3=features_c_all(25:36,:);
% % % % features_c_4=features_c_all(37:48,:);
% % % % features_c_5=features_c_all(49:60,:);
% features_c=features_c_all(randperm(end),:);
% % % % features_c=[features_c_1;features_c_2;features_c_3;features_c_4];
% % % % features_c_t=features_c_5;
% % % % features_c=[features_c_1;features_c_2;features_c_3;features_c_5];
% % % % features_c_t=features_c_4;
% % % % features_c=[features_c_1;features_c_2;features_c_4;features_c_5];
% % % % features_c_t=features_c_3;
% % % % features_c=[features_c_1;features_c_3;features_c_3;features_c_5];
% % % % features_c_t=features_c_2;
% % % % features_c=[features_c_2;features_c_3;features_c_4;features_c_5];
% % % % features_c_t=features_c_1;
% % % % features_n=[features_n_1;features_n_2;features_n_3;features_n_4];
% % % % features_n_t=features_n_5;
% % % % features_n=[features_n_1;features_n_2;features_n_3;features_n_5];
% % % % features_n_t=features_n_4;
% % % % features_n=[features_n_1;features_n_2;features_n_4;features_n_5];
% % % % features_n_t=features_n_3;
% % % % features_n=[features_n_1;features_n_3;features_n_4;features_n_5];
% % % % features_n_t=features_n_2;
% % % % features_n=[features_n_2;features_n_3;features_n_4;features_n_5];
% % % % features_n_t=features_n_1;
% Fn1=features_n(1:64,1);%% NORMAL SAMPLES %%
% Fn2=features_n(1:64,2);%% NORMAL SAMPLES %%
% Fn3=features_n(1:64,3);%% NORMAL SAMPLES %%
% Fn4=features_n(1:64,4);%% NORMAL SAMPLES %%
% Fn5=features_n(1:64,5);%% NORMAL SAMPLES %%
% Fn6=features_n(1:64,6);%% NORMAL SAMPLES %%
% Fn7=features_n(1:64,7);%% NORMAL SAMPLES %%
% Fc1=features_c(1:48,1);%% CIRRHOTIC LIVER SAMPLES %%
% Fc2=features_c(1:48,2);%% CIRRHOTIC LIVER SAMPLES %%
% Fc3=features_c(1:48,3);%% CIRRHOTIC LIVER SAMPLES %%
% Fc4=features_c(1:48,4);%% CIRRHOTIC LIVER SAMPLES %%
% Fc5=features_c(1:48,5);%% CIRRHOTIC LIVER SAMPLES %%
% Fc6=features_c(1:48,6);%% CIRRHOTIC LIVER SAMPLES %%
% Fc7=features_c(1:48,7);%% CIRRHOTIC LIVER SAMPLES %%
% m_n1=mean(Fn1);
% s_n1=std(Fn1);
% m_n2=mean(Fn2);
% s_n2=std(Fn2);
% m_n3=mean(Fn3);
% s_n3=std(Fn3);
% m_n4=mean(Fn4);
% s_n4=std(Fn4);
% m_n5=mean(Fn5);
% s_n5=std(Fn5);
% m_n6=mean(Fn6);
% s_n6=std(Fn6);
% m_n7=mean(Fn7);
% s_n7=std(Fn7);
% m_c1=mean(Fc1);
% s_c1=std(Fc1);
% m_c2=mean(Fc2);
% s_c2=std(Fc2);
% m_c3=mean(Fc3);
% s_c3=std(Fc3);
% m_c4=mean(Fc4);
% s_c4=std(Fc4);
% m_c5=mean(Fc5);
% s_c5=std(Fc5);
% m_c6=mean(Fc6);
% s_c6=std(Fc6);
% m_c7=mean(Fc7);
% s_c7=std(Fc7);
% %%% SAMPLES FOR VALIDATION %%%
% a=[features_n(65:80,1);features_c(49:60,1)];
% b=[features_n(65:80,2);features_c(49:60,2)];
% c=[features_n(65:80,3);features_c(49:60,3)];
% d=[features_n(65:80,4);features_c(49:60,4)];
% e=[features_n(65:80,5);features_c(49:60,5)];
% f=[features_n(65:80,6);features_c(49:60,6)];
% g=[features_n(65:80,7);features_c(49:60,7)];
% x=[features_n(65:80,8);features_c(49:60,8)];
% % w1=0.1522;%% WPT %%
% % w2=0.1447;%% WPT %%
% % w3=0.1445;%% WPT %%
% % w4=0.1424;%% WPT %%
% % w5=0.1415;%% WPT %%
% % w6=0.1380;%% WPT %%
% % w7=0.1367;%% WPT %%
% % w1=0.1440;%% DWT %%
% % w2=0.1432;%% DWT %%
% % w3=0.1429;%% DWT %%
% % w4=0.1427;%% DWT %%
% % w5=0.1426;%% DWT %%
% % w6=0.1424;%% DWT %%
% % w7=0.1421;%% DWT %%
% w1=0.1675;%% ORIGINAL IMAGE %%
% w2=0.1524;%% ORIGINAL IMAGE %%
% w3=0.1453;%% ORIGINAL IMAGE %%
% w4=0.1409;%% ORIGINAL IMAGE %%
% w5=0.1337;%% ORIGINAL IMAGE %%
% w6=0.1327;%% ORIGINAL IMAGE %%
% w7=0.1275;%% ORIGINAL IMAGE %%
% for i=1:28
%     za1(i)=1-(abs(a(i)-m_n1)/s_n1)*w1;
%     za2(i)=1-(abs(b(i)-m_n2)/s_n2)*w2;
%     za3(i)=1-(abs(c(i)-m_n3)/s_n3)*w3;
%     za4(i)=1-(abs(d(i)-m_n4)/s_n4)*w4;
%     za5(i)=1-(abs(e(i)-m_n5)/s_n5)*w5;
%     za6(i)=1-(abs(f(i)-m_n6)/s_n6)*w6;
%     za7(i)=1-(abs(g(i)-m_n7)/s_n7)*w7;
%     za(i)=za1(i)+za2(i)+za3(i)+za4(i)+za5(i)+za6(i)+za7(i);
%     zb1(i)=1-(abs(a(i)-m_c1)/s_c1)*w1;
%     zb2(i)=1-(abs(b(i)-m_c2)/s_c2)*w2;
%     zb3(i)=1-(abs(c(i)-m_c3)/s_c3)*w3;
%     zb4(i)=1-(abs(d(i)-m_c4)/s_c4)*w4;
%     zb5(i)=1-(abs(e(i)-m_c5)/s_c5)*w5;
%     zb6(i)=1-(abs(f(i)-m_c6)/s_c6)*w6;
%     zb7(i)=1-(abs(g(i)-m_c7)/s_c7)*w7;
%     zb(i)=zb1(i)+zb2(i)+zb3(i)+zb4(i)+zb5(i)+zb6(i)+zb7(i);
%     dz1(i)=(za(i))-(zb(i));
% %     dz2(i)=za(i)*zb(i);
% %     dz3(i)=za(i)/zb(i);
% end
% xlswrite(filename,transpose(dz1),4,'S1');
% xlswrite(filename,x,4,'T1');
%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%% TESTING %%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%
features_n_all=xlsread(filename,sheetnum,'B1:CA7');
features_c_all=xlsread(filename,sheetnum,'B15:BI21');
features_n=transpose(features_n_all);
features_c=transpose(features_c_all);
Fn1=features_n(1:78,1);%% NORMAL SAMPLES %%
Fn2=features_n(1:78,2);%% NORMAL SAMPLES %%
Fn3=features_n(1:78,3);%% NORMAL SAMPLES %%
Fn4=features_n(1:78,4);%% NORMAL SAMPLES %%
Fn5=features_n(1:78,5);%% NORMAL SAMPLES %%
Fn6=features_n(1:78,6);%% NORMAL SAMPLES %%
Fn7=features_n(1:78,7);%% NORMAL SAMPLES %%
Fc1=features_c(1:60,1);%% CIRRHOTIC LIVER SAMPLES %%
Fc2=features_c(1:60,2);%% CIRRHOTIC LIVER SAMPLES %%
Fc3=features_c(1:60,3);%% CIRRHOTIC LIVER SAMPLES %%
Fc4=features_c(1:60,4);%% CIRRHOTIC LIVER SAMPLES %%
Fc5=features_c(1:60,5);%% CIRRHOTIC LIVER SAMPLES %%
Fc6=features_c(1:60,6);%% CIRRHOTIC LIVER SAMPLES %%
Fc7=features_c(1:60,7);%% CIRRHOTIC LIVER SAMPLES %%
m_n1=4.5208;
s_n1=0.4587;
m_n2=0.9925;
s_n2=0.1762;
m_n3=0.7093;
s_n3=0.0705;
m_n4=0.1395;
s_n4=0.0245;
m_n5=1.0046;
s_n5=0.5539;
m_n6=0.8576;
s_n6=0.5043;
m_n7=2.5304;
s_n7=0.1781;
m_c1=5.1832;
s_c1=0.2285;
m_c2=1.2748;
s_c2=0.1535;
m_c3=0.6019;
s_c3=0.0615;
m_c4=0.1128;
s_c4=0.0052;
m_c5=2.0192;
s_c5=0.7861;
m_c6=1.7873;
s_c6=0.7311;
m_c7=2.6968;
s_c7=0.0052;
%%% SAMPLES FOR TESTING %%%
a=[Fn1;Fc1];
b=[Fn2;Fc2];
c=[Fn3;Fc3];
d=[Fn4;Fc4];
e=[Fn5;Fc5];
f=[Fn6;Fc6];
g=[Fn7;Fc7];
w1=0.1675;%% ORIGINAL IMAGE %%
w2=0.1524;%% ORIGINAL IMAGE %%
w3=0.1453;%% ORIGINAL IMAGE %%
w4=0.1409;%% ORIGINAL IMAGE %%
w5=0.1337;%% ORIGINAL IMAGE %%
w6=0.1327;%% ORIGINAL IMAGE %%
w7=0.1275;%% ORIGINAL IMAGE %%
for i=1:138
    za1(i)=1-(abs(a(i)-m_n1)/s_n1)*w1;
    za2(i)=1-(abs(b(i)-m_n2)/s_n2)*w2;
    za3(i)=1-(abs(c(i)-m_n3)/s_n3)*w3;
    za4(i)=1-(abs(d(i)-m_n4)/s_n4)*w4;
    za5(i)=1-(abs(e(i)-m_n5)/s_n5)*w5;
    za6(i)=1-(abs(f(i)-m_n6)/s_n6)*w6;
    za7(i)=1-(abs(g(i)-m_n7)/s_n7)*w7;
    za(i)=za1(i)+za2(i)+za3(i)+za4(i)+za5(i)+za6(i)+za7(i);
    zb1(i)=1-(abs(a(i)-m_c1)/s_c1)*w1;
    zb2(i)=1-(abs(b(i)-m_c2)/s_c2)*w2;
    zb3(i)=1-(abs(c(i)-m_c3)/s_c3)*w3;
    zb4(i)=1-(abs(d(i)-m_c4)/s_c4)*w4;
    zb5(i)=1-(abs(e(i)-m_c5)/s_c5)*w5;
    zb6(i)=1-(abs(f(i)-m_c6)/s_c6)*w6;
    zb7(i)=1-(abs(g(i)-m_c7)/s_c7)*w7;
    zb(i)=zb1(i)+zb2(i)+zb3(i)+zb4(i)+zb5(i)+zb6(i)+zb7(i);
    dz1(i)=(za(i))-(zb(i));
end
for j=1:138
    x=dz1(j);
if x>0.79
    class(j)=1;
    else class(j)=2;
   end
end
